# 🔄 清除浏览器缓存说明

## 问题说明

如果更新代码后，网站仍然显示旧的内容（比如一年级1班老师还能看到5年级数据），这是因为**浏览器缓存了旧的代码**。

---

## 🛠️ 解决方法

### 方法一：强制刷新（推荐）⭐

**Windows 系统：**
1. 在网站页面按 **Ctrl + Shift + R**
2. 或者按 **Ctrl + F5**

**Mac 系统：**
1. 按 **Command + Shift + R**
2. 或者按 **Command + Option + R**

---

### 方法二：清除浏览器缓存

#### Chrome 浏览器
1. 按 **Ctrl + Shift + Delete**（Mac: Command + Shift + Delete）
2. 选择时间范围：**全部**
3. 勾选：
   - ✅ 浏览历史记录
   - ✅ Cookie 及其他网站数据
   - ✅ 缓存的图片和文件
4. 点击 **清除数据**
5. 刷新页面（F5）

#### Edge 浏览器
1. 按 **Ctrl + Shift + Delete**
2. 选择时间范围：**所有时间**
3. 勾选：
   - ✅ 浏览历史记录
   - ✅ Cookie 和其他站点数据
   - ✅ 缓存的图像和文件
4. 点击 **立即清除**
5. 刷新页面（F5）

#### Firefox 浏览器
1. 按 **Ctrl + Shift + Delete**
2. 选择时间范围：**全部**
3. 勾选：
   - ✅ 浏览和下载历史
   - ✅ Cookie
   - ✅ 缓存
4. 点击 **立即清除**
5. 刷新页面（F5）

---

### 方法三：使用无痕模式测试

1. **Chrome/Edge：** 按 **Ctrl + Shift + N**
2. **Firefox：** 按 **Ctrl + Shift + P**
3. 在无痕窗口中打开网站
4. 重新登录测试

无痕模式不会使用缓存，可以看到最新的代码效果。

---

### 方法四：等待 Zeabur 部署完成

如果刚推送代码：
1. 等待 **1-2 分钟**
2. Zeabur 需要时间重新构建和部署
3. 查看 Zeabur 部署状态：
   - 登录 https://zeabur.com
   - 进入项目
   - 查看服务状态是否为 **"Running"**

---

## ✅ 验证修复是否生效

### 测试步骤

1. **清除缓存后重新登录**
2. **使用一年级1班账号登录**
3. **检查各个页面：**

#### 年级数据页面
- ✅ 年级下拉框只显示"一年级"
- ✅ 下拉框被禁用，无法选择
- ✅ 只显示一年级的数据

#### 班级数据页面
- ✅ 年级下拉框只显示"一年级"
- ✅ 班级下拉框只显示"1班"
- ✅ 两个下拉框都被禁用
- ✅ 只显示一年级1班的数据

#### 学生成绩历史对比
- ✅ 年级下拉框只显示"一年级"
- ✅ 班级下拉框只显示"1班"
- ✅ 只能查看一年级1班学生的历史

#### 三率历史对比
- ✅ 年级下拉框只显示"一年级"
- ✅ 班级下拉框只显示"1班"
- ✅ 只显示一年级1班的三率历史

---

## 🔍 如果仍然有问题

### 检查清单

1. **确认已清除缓存**
   - 使用无痕模式测试
   - 或者使用强制刷新

2. **确认 Zeabur 部署完成**
   - 登录 Zeabur 查看状态
   - 确认最新代码已部署

3. **检查登录账号**
   - 确认使用的是教师账号
   - 不是管理员账号（admin123）

4. **查看浏览器控制台**
   - 按 F12 打开开发者工具
   - 查看 Console 是否有错误
   - 截图发给我

---

## 💡 为什么会有缓存问题？

### 浏览器缓存机制
- 浏览器会缓存 JavaScript、CSS 等文件
- 目的是加快网页加载速度
- 但更新代码后，浏览器可能还在使用旧文件

### 解决方案
- **短期：** 清除缓存或强制刷新
- **长期：** 可以配置文件版本号（已在 Vite 中自动处理）

---

## 📞 需要帮助？

如果清除缓存后仍然有问题：

1. **截图当前页面**
2. **告诉我：**
   - 使用的浏览器
   - 是否清除了缓存
   - Zeabur 部署状态
   - 浏览器控制台的错误信息

我会帮你进一步排查！

---

**提示：** 建议通知所有老师，更新后需要清除浏览器缓存或强制刷新页面。
